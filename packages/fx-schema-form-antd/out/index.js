!function t(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("json-pointer"),require("fx-schema-form-core"),require("React"),require("react-redux"),require("reselect"),require("recompose"),require("lodash.isequal"),require("uuid"),require("redux-act"),require("lodash.clonedeep")):"function"==typeof define&&define.amd?define("fx-schema-form-antd",["json-pointer","fx-schema-form-core","React","react-redux","reselect","recompose","lodash.isequal","uuid","redux-act","lodash.clonedeep"],n):"object"==typeof exports?exports["fx-schema-form-antd"]=n(require("json-pointer"),require("fx-schema-form-core"),require("React"),require("react-redux"),require("reselect"),require("recompose"),require("lodash.isequal"),require("uuid"),require("redux-act"),require("lodash.clonedeep")):e["fx-schema-form-antd"]=n(e["json-pointer"],e["fx-schema-form-core"],e.React,e["react-redux"],e.reselect,e.recompose,e["lodash.isequal"],e.uuid,e["redux-act"],e["lodash.clonedeep"])}(this,function(t,e,n,r,o,a,i,s,c,u){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=10)}([function(t,e){t.exports=n},function(t,e){t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);n.d(e,"SchemaForm",function(){return r.a});var o=n(29);n.d(e,"SchemaFormItem",function(){return o.a});var a=n(9);n.d(e,"FormReducer",function(){return a.a});var i=n(31);n.d(e,"defaultTheme",function(){return i.a}),n.d(e,"nsFactory",function(){return i.b});var s=n(8);n.d(e,"createForms",function(){return s.b}),n.d(e,"SchemaFormCreate",function(){return s.a});var c=n(7);n.d(e,"hocFactory",function(){return c.a});var u=n(4),p=n.n(u);p.a.set=function t(e,n,r){for(var o=Array.isArray(n)?n:p.a.parse(n),a=o[0],i=0,s=o.length;i<s-1;++i){var c=o[i];"-"===c&&Array.isArray(e)&&(c=e.length),a=o[i+1],c in e||(a.match(/^(\d+|-)$/)?e[c]=[]:e[c]={}),!e[c]&&a&&(e[c]=Number.isNaN(1*a)?{}:[]),e=e[c]}return"-"===a&&Array.isArray(e)&&(a=e.length),e[a]=r,this}},function(t,e){t.exports=r},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return y}),n.d(e,"a",function(){return g});var r=n(4),o=n.n(r),a=n(16),i=n.n(a),s=n(8),c=function(t,e){return e.getCurrentState?e.getCurrentState(t,e):t[e.schemaKey]},u=function(t,e){var n=c(t,e).data;return void 0===n?{}:n},p=function(t,e){var n=e.schemaKey,o=e.mergeSchema,a=o.keys,i=void 0===a?[]:a,s=c(t,e).data,u=void 0===s?{}:s;return r.has(u,r.compile(i))?r.get(u,r.compile(i)):void 0},h=function(t,e){var n=e.schemaKey,r=c(t,e).meta;return{isLoading:r.isLoading,isValid:r.isValid}},f=function(t,e){var n=e.schemaKey,r=e.mergeSchema,o=r.keys,a=void 0===o?[]:o,i=s.a.metas[n],u=c(t,e).meta;return i.getMeta(a,"array"!==r.type)},m=function(t,e){var n=e.schemaKey,r=s.a.metas[n];return e.schemaFormOptions&&e.schemaFormOptions.ajv&&r.init(e.schemaFormOptions,e.schemaKey),r.actions},d=Object(a.createSelector)([u],function(t){return{formData:t}}),l=Object(a.createSelector)([f],function(t){return{meta:t}}),y=Object(a.createSelector)([p],function(t){return{formItemData:t}}),g=Object(a.createSelector)([m],function(t){return{actions:t}})},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(5),o=n.n(r),a=n(13),i=n(14),s=n(21),c=n(22),u=n(23),p=n(24),h=n(25),f=n(26),m=n(27),d=new r.BaseFactory,l={merge:a.a.bind(a.a,d),temp:i.a.bind(i.a,d),field:s.a.bind(s.a,d),theme:c.a.bind(c.a,d),validate:u.a.bind(u.a,d),array:p.a.bind(p.a,d),make:h.a.bind(h.a,d),condition:f.a.bind(f.a,d),utils:m.a.bind(m.a,d)};for(var y in l)if(l.hasOwnProperty(y)){var g=l[y];d.add(y,g),d.lock(y)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(9),o=n(19),a=function(){function t(){}return t.prototype.createOne=function(e,n,a,i,s,c){var u=new o.a,p=a.validate(i,n).catch(function(){return 1}),h=new r.a(c?c({},{data:n,meta:u.data}):{data:n,meta:u.data},u,s,c);return u.actions=h.actions,t.metas[e]=u,h},t.metas={},t}();e.b=new a},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(17),o=n.n(r),a=n(4),i=n.n(a),s=n(18),c=n.n(s),u=function(){function t(t,e,n,o){this.initialState=t,this.meta=e,this.getOriginState=n,this.updateState=o,this.updateItem=Object(r.createAction)("更新表单值"),this.toggleItem=Object(r.createAction)("显示/隐藏元素"),this.removeItem=Object(r.createAction)("删除元素"),this.addItem=Object(r.createAction)("添加元素"),this.switchItem=Object(r.createAction)("元素移位"),this.updateItemMeta=Object(r.createAction)("更新元素的meta信息"),this.updateMetaState=Object(r.createAction)("更改meta的状态"),this.updateData=Object(r.createAction)("更改data的值")}return Object.defineProperty(t.prototype,"actions",{get:function(){return{updateItem:this.updateItem,toggleItem:this.toggleItem,removeItem:this.removeItem,addItem:this.addItem,switchItem:this.switchItem,updateMetaState:this.updateMetaState,updateItemMeta:this.updateItemMeta,updateData:this.updateData}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reducer",{get:function(){return Object(r.createReducer)((t={},t[this.updateItem]=this.updateItemHandle.bind(this),t[this.toggleItem]=this.toggleItemHandle.bind(this),t[this.addItem]=this.addItemHandle.bind(this),t[this.removeItem]=this.removeItemHandle.bind(this),t[this.switchItem]=this.switchItemHandle.bind(this),t[this.updateMetaState]=this.updateMetaStateHandle.bind(this),t[this.updateItemMeta]=this.updateMetaHandle.bind(this),t[this.updateData]=this.updateDataHandle.bind(this),t),this.initialState);var t},enumerable:!0,configurable:!0}),t.prototype.updateDataHandle=function(t,e){return this.updateState?this.updateState(t,{data:e,meta:{map:{},meta:{}}}):Object.assign({},t,{data:e,meta:{map:{},meta:{}}})},t.prototype.getOrigin=function(t){return this.getOriginState?this.getOriginState(t):{originData:c()(t.data),originMeta:c()(t.meta)}},t.prototype.updateMetaStateHandle=function(t,e){var n=e.isLoading,r=e.isValid,o=e.meta,a=this.getOrigin(t).originMeta;return o&&(a=o),void 0!==n&&(a.isLoading=n),void 0!==r&&(a.isValid=r),this.updateState?this.updateState(t,{meta:a}):Object.assign({},t,{meta:a})},t.prototype.updateItemHandle=function(t,e){var n=e.keys,r=e.data,o=e.meta,a=this.getOrigin(t).originData,s=this.meta.getKey(n).normalKey;return i()(a).set(s,r),this.meta.setMeta(n,o),this.updateState?this.updateState(t,{data:a,meta:this.meta.data}):Object.assign({},t,{data:a,meta:this.meta.data})},t.prototype.updateMetaHandle=function(t,e){var n=e.keys,r=e.meta,o=this.getOrigin(t).originData,a=this.meta.getKey(n).normalKey,i=this.meta.getMeta(n,!1)||{};return this.meta.setMeta(n,r),this.updateState?this.updateState(t,{meta:this.meta.data}):Object.assign({},t,{meta:this.meta.data})},t.prototype.toggleItemHandle=function(t,e){var n=e.keys,r=this.meta.getKey(n).normalKey,o=this.meta.getMeta(n,!1)||{};return this.meta.setMeta(n,Object.assign({},o,{isShow:void 0!==o.isShow&&!o.isShow}),!1),this.updateState?this.updateState(t,{meta:this.meta.data}):Object.assign({},t,{meta:this.meta.data})},t.prototype.addItemHandle=function(t,e){var n=e.keys,r=e.data,o=this.getOrigin(t).originData,a=this.meta.getKey(n).normalKey,s=i()(o).has(a)?i()(o).get(a):[];return i()(o).set(a,s.concat([r])),this.updateState?this.updateState(t,{data:o}):Object.assign({},t,{data:o})},t.prototype.removeItemHandle=function(t,e){var n=e.keys,r=e.index,o=this.getOrigin(t).originData,a=this.meta.getKey(n.concat([r.toString()])).normalKey;return o&&i()(o).has(a)&&i()(o).remove(a),this.meta.removeMeta(n.concat([r.toString()])),this.updateState?this.updateState(t,{data:o,meta:this.meta.data}):Object.assign({},t,{data:o,meta:this.meta.data})},t.prototype.switchItemHandle=function(t,e){var n=e.keys,r=e.curIndex,o=e.switchIndex,a=this.getOrigin(t).originData,s=this.meta.getKey(n).normalKey,c=i()(a).get(s);return u=[c[o],c[r]],c[r]=u[0],c[o]=u[1],i()(a).set(s,c),this.meta.switchMeta(n,r,o),this.updateState?this.updateState(t,{data:a,meta:this.meta.data}):Object.assign({},t,{data:a,meta:this.meta.data});var u},t}()},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),o=n.n(r),a=n(12),i=n(2),s=n(28),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.children,r=e.mergeSchemaList,a=e.schemaKey,c=e.ItemButtons,u=e.arrayIndex,p=e.arrayLevel,h=e.globalOptions,f=e.RootComponent,m=e.schemaFormOptions,d=e.formDefaultData,l=e.getCurrentState,y=f;return y||(y=s.a),o.a.createElement(y,null,r.map(function(e,n){return e.keys=t.mergeKeys(e),o.a.createElement(i.SchemaFormItem,{key:a+"-"+n.toString()+"}",getCurrentState:l,schemaKey:a,arrayIndex:u,arrayLevel:p,ItemButtons:c,formDefaultData:d,mergeSchemaList:r,mergeSchema:e,schemaFormOptions:m,globalOptions:h})}),n)},e.prototype.mergeKeys=function(t){var e=this.props.arrayLevel,n=void 0===e?[]:e,r=n.concat([]);return t.originKeys=t.keys.concat([]),t.keys.map(function(t){return"-"===t?r.shift():t})},e}(o.a.PureComponent),p=Object(a.a)(u)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),o=n.n(r),a=n(7),i=Object(r.compose)(a.a.get("utils"),a.a.get("merge"))},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),o=n.n(r),a=n(5),i=n.n(a),s=n(3),c=n.n(s),u=n(1),p=n.n(u),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},m=this&&this.__decorate||function(t,e,n,r){var o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=function(t,e){var n=e.actions;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];o.assigned(t)||o.assignTo(t)}return{actions:n}},l=function(t,e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.render=function(){var t=this.props,n=t.schema,r=t.uiSchema,i=t.parentKeys,s=t.schemaFormOptions,c=t.schemaKey,u,p={},h=n;return c||(c=(Date.now()+Math.random()).toString()),s=s||{avjOptions:{}},i&&!i.length?(s.parentKeys=s.parentKeys||[],s.map.has(s.parentKeys.join("/"))&&(h=s.map.get(s.parentKeys.join("/")))):s.parentKeys=i||[],u=a.schemaMerge.merge(c,h,r,s),o.a.createElement(e,f({schemaFormOptions:s||{},schemaKey:c,mergeSchemaList:u},this.props))},n=m([Object(u.compose)(Object(u.onlyUpdateForKeys)(["schema"]),Object(s.connect)(null,d))],n)}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(15),c=n.n(s),u=n(3),p=n.n(u),h=n(6),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},d=this&&this.__decorate||function(t,e,n,r){var o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=Object(a.compose)(Object(u.connect)(h.d),Object(a.onlyUpdateForKeys)(["meta"]),Object(a.shouldUpdate)(function(t,e){return!c()(t.meta,e.meta)})),y=function(t,e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.tempField="ui:temp",e}return f(n,t),n.prototype.render=function(){var t=this,n=this.props,r=n.mergeSchema,i=n.globalOptions,s=r.uiSchema,c=void 0===s?{options:{}}:s,p=r.keys,f=this.getTemplates(),d=c.options||{},y=Object(a.compose)(Object(u.connect)(h.c))(e),g=0;return f.reduce(function(e,n){var r=n.key,a=n.Temp,s=l(a);return o.a.createElement(s,m({globalOptions:i,tempKey:r,uiSchemaOptions:d,key:p.join(".")+r+g++},t.props,{children:e}))},o.a.createElement(y,m({key:p.join("."),uiSchemaOptions:d},this.props)))},n.prototype.getTemplates=function(){var t=this.props,e=t.mergeSchema,n=t.globalOptions,r=t.currentTheme,o=e.uiSchema,a=void 0===o?{options:{}}:o,i=e.keys,s=e.type,c=n[s]||{},u=a[this.tempField]||c[this.tempField]||n[this.tempField]||"default",p=[];return"string"==typeof u?p.push({key:u,Temp:r.tempFactory.get(u)}):[].concat(u).reverse().forEach(function(t,e){r.tempFactory.has(t||"default")?p.push({key:t,Temp:r.tempFactory.get(t||"default")}):console.error("不存在"+t+"的temp！")}),p},n=d([Object(a.compose)(Object(a.shouldUpdate)(function(){return!1}))],n)}(o.a.PureComponent)}},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e){t.exports=c},function(t,e){t.exports=u},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(20),o=n.n(r),a=n(4),i=n.n(a),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,s)}c((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(s=o.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=e.call(t,o)}catch(t){n=[6,t],i=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a,i,s,c;return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},u=function(){function t(){this.data={map:{},meta:{}},this.actions={},this.isInit=!1}return t.prototype.init=function(t,e){this.isInit||(this.isInit=!0,this.schemaFormOptions=t,this.curKey=e)},t.prototype.validateAll=function(t){return s(this,void 0,void 0,function(){var e,n,r,o,a;return c(this,function(i){switch(i.label){case 0:for(e in this.data.map)this.data.map.hasOwnProperty(e)&&(n=this.data.map[e],n.isValid=!0,n.dirty=!0);this.data.isLoading=!0,this.data.isValid=!1,i.label=1;case 1:return i.trys.push([1,3,,4]),r=this.schemaFormOptions.ajv.getSchema(this.curKey).schema,o=this.schemaFormOptions.ajv.compile(r),[4,o(t)];case 2:return i.sent(),this.data.isValid=!0,[3,4];case 3:return a=i.sent(),this.data.isValid=!1,a.errors&&a.errors.length&&this.setErrors(a.errors),[3,4];case 4:return[2,this.data]}})})},t.prototype.setErrors=function(t){var e=this;this.data.isValid=!1,t.forEach(function(t){var n=i.a.parse(t.dataPath),r=e.getMeta(n);e.setMeta(n,{dirty:!0,isLoading:!1,isValid:!1,errors:[],errorText:e.schemaFormOptions.ajv.errorsText([t],{separator:",",dataVar:""})})})},t.prototype.getKey=function(t){var e=i.a.compile(t),n=i.a.escape(e);return{schemaKey:t.map(function(t){return Number.isNaN(Number(t))?t:"-"}).join("/"),normalKey:e,originEscapeKey:n,escapeKey:"/"+n}},t.prototype.setMeta=function(t,e,n){void 0===n&&(n=!0);var r=this.getKey(t),o=r.normalKey,a=r.escapeKey,i=r.originEscapeKey,s=r.schemaKey,c=this.getUuid({normalKey:o,escapeKey:a,originEscapeKey:i,schemaKey:s}),u=this.getCurMetaData(c);c!==a&&this.setCurMetaUuid(o,c),this.setCurMetaData(c,Object.assign({},u,e))},t.prototype.getUuid=function(t){var e=t.normalKey,n=t.escapeKey,r=t.originEscapeKey,a=t.schemaKey,s=i()(this.data.map),c=i()(this.data.meta),u,p;if(this.schemaFormOptions.map.has(a)){if(["array","object"].indexOf(this.schemaFormOptions.map.get(a).type)>=0)return n}return s.has(n)?n:(c.has(e)&&(u=c.get(e),p=u),"string"==typeof u&&u||(p="/"+i.a.escape("/"+o()())),p)},t.prototype.getMeta=function(t,e){void 0===e&&(e=!0);var n=this.getKey(t),r=n.normalKey,o=n.escapeKey,a=n.originEscapeKey,i=n.schemaKey,s=this.getUuid({normalKey:r,escapeKey:o,originEscapeKey:a,schemaKey:i});return this.getCurMetaData(s)},t.prototype.switchMeta=function(t,e,n){var r=this.getKey(t),o=r.normalKey,a=r.escapeKey,s=r.schemaKey,c=r.originEscapeKey;if(i()(this.data.meta).has(o)){var u=i()(this.data.meta).get(o);p=[u[n],u[e]],u[e]=p[0],u[n]=p[1],i()(this.data.meta).set(o,u);var p}},t.prototype.removeMeta=function(t){var e=i()(this.data.map),n=i()(this.data.meta),r=this.getKey(t),o=r.normalKey,a=r.escapeKey,s=r.originEscapeKey,c=r.schemaKey,u=this.getUuid({normalKey:o,escapeKey:a,originEscapeKey:s,schemaKey:c}),p=new RegExp("^"+s,"ig");for(var h in this.data.map)if(this.data.map.hasOwnProperty(h)){var f=this.getKey(i.a.parse(h));p.test(f.originEscapeKey)&&e.remove(f.escapeKey)}if(n.has(o)&&n.get(o)){var m=i.a.dict(n.get(o));n.remove(o);for(var h in m)if(m.hasOwnProperty(h)){var d=m[h];e.has(d)&&e.remove(d)}}e.has(u)&&e.remove(u)},t.prototype.getCurMetaData=function(t){return i()(this.data.map).has(""+t)?i()(this.data.map).get(""+t):{isShow:!0}},t.prototype.setCurMetaData=function(t,e){i()(this.data.map).set(""+t,e)},t.prototype.setCurMetaUuid=function(t,e){i()(this.data.meta).set(t,e)},t}()},function(t,e){t.exports=s},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n.n(r),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s=function(t,e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.render=function(){var t=this.props,n=t.mergeSchema,r=t.currentTheme,a=n.uiSchema,s=void 0===a?{theme:"",field:"",widget:""}:a,c,u;"object"==typeof n.type&&(n.type=n.type[0]);var p=s.field||n.type;if("object"==typeof p&&p.length&&(p=p[0]),!r.fieldFactory.has(s.field||n.type))return console.error("找不到field："+(s.field||n.type)),null;c=r.fieldFactory.get(s.field||n.type);var h=s.widget||n.type;return"object"==typeof h&&h.length&&(h=h[0]),r.widgetFactory.has(s.widget||n.type)&&(u=r.widgetFactory.get(s.widget||n.type)),o.a.createElement(e,i({},this.props,{FieldComponent:c,WidgetComponent:u}))},n}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),o=n.n(r),a=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},c=function(t,e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this.props.mergeSchema,n=t.uiSchema,r=void 0===n?{theme:"",field:""}:n,i;if(!a.nsFactory.has(r.theme||"default"))throw new Error("没有找到"+(r.theme||"default")+"的样式！");return i=a.nsFactory.get(r.theme||"default"),o.a.createElement(e,s({currentTheme:i},this.props))},n}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),o=n.n(r),a=n(3),i=n.n(a),s=n(1),c=n.n(s),u=n(6),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},f=this&&this.__decorate||function(t,e,n,r){var o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=function(t,e){var n=e.mergeSchema,r=e.actions,o=e.schemaFormOptions,a=e.schemaKey,i=e.formData,s=n.keys,c=o.ajv.compile(Object.assign({},n,{$async:!0,id:null}));for(var u in r)if(r.hasOwnProperty(u)){var p=r[u];p.assigned(t)||p.assignTo(t)}return{updateItemData:function(t){r.updateItem({keys:s,data:t,meta:{}})},validate:function(t){var e={dirty:!0,isValid:!1,isLoading:!1,errorText:""},n=setTimeout(function(){r.updateItemMeta({keys:s,meta:{isLoading:!0,isValid:!1,errorText:!1}})},50);c(t).then(function(){clearTimeout(n),e.isValid=!0,r.updateItemMeta({keys:s,meta:e})}).catch(function(t){clearTimeout(n),e.errorText=t.errors?o.ajv.errorsText(t.errors,{dataVar:"/"+s.join("/")}):t.message,r.updateItemMeta({keys:s,meta:e})})}}},d=function(t,e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n.prototype.render=function(){return o.a.createElement(e,h({},this.props))},n=f([Object(s.compose)(Object(a.connect)(u.a),Object(a.connect)(null,m),Object(s.shouldUpdate)(function(){return!1}))],n)}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(3),c=n.n(s),u=n(6),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},f=this&&this.__decorate||function(t,e,n,r){var o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=Object(a.withHandlers)({removeItem:function(t){return function(e){var n=t.formItemData,r=void 0===n?[]:n,o=t.mergeSchema,a=t.arrayIndex,i=t.actions,s=o.uiSchema,c=o.type,u=o.keys;"array"===c&&void 0!==e&&i.removeItem({keys:u,index:e})}},switchItem:function(t){return function(e,n){var r=t.formItemData,o=void 0===r?[]:r,a=t.mergeSchema,i=t.arrayIndex,s=t.actions,c=a.uiSchema,u=a.type,p=a.keys;if("array"===u&&void 0!==e&&void 0!==n){if(n<0||o.length<n+1)return;s.switchItem({keys:p,curIndex:e,switchIndex:n})}}},toggleItem:function(t){return function(){var e=t.mergeSchema,n=t.actions,r=t.schemaFormOptions,o=e.keys;n.toggleItem({keys:o})}},addItem:function(t){return function(){var e=t.mergeSchema,n=t.actions,r=e.keys;"object"===e.items.type?n.addItem({keys:r,data:{}}):n.addItem({keys:r,data:void 0})}}}),d=function(t,e){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n.prototype.render=function(){var t=this,n=this.props,r=n.mergeSchema,i=n.getHocOptions,c=r.type,p=i("array"),f=p||{},d=f.ItemChildButtons,l=void 0===d?null:d,y=f.ItemButtons,g=void 0===y?null:y,v,O;return l&&(v=Object(a.compose)(m,Object(s.connect)(u.d))(l)),g&&(O=Object(a.compose)(m,Object(s.connect)(u.d))(g)),"array"===c?o.a.createElement(e,h({},this.props,{ItemButtons:O?function(){return o.a.createElement(O,h({},t.props))}:function(){return o.a.createElement("span",null)},ItemChildButtons:v||function(){return o.a.createElement("span",null)}})):o.a.createElement(e,h({},this.props))},n=f([Object(a.compose)(Object(s.connect)(u.c),m)],n)}(o.a.PureComponent),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return p(n,t),n.prototype.render=function(){return o.a.createElement(e,h({},this.props))},n=f([Object(a.compose)(m,Object(s.connect)(u.c))],n)}(o.a.PureComponent);return function(t){return Object(a.branch)(t,Object(a.renderComponent)(r))}(function(t){var e=t.mergeSchema,n=t.getHocOptions;return"array"!==e.type})(n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},u=function(t,e){return function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.fieldKey="ui:item.hoc",t}return s(r,n),r.prototype.shouldComponentUpdate=function(){return!1},r.prototype.render=function(){var n=this.props,r=n.mergeSchema,i=n.globalOptions,s=r.uiSchema,u=void 0===s?{options:{}}:s,p=r.keys,h=r.type,f=i[h]||{},m=u[this.fieldKey]||f[this.fieldKey]||i[this.fieldKey]||["theme","field","validate","array","temp"],d=a.compose.apply(void 0,["utils"].concat(m).map(function(e){return t.get(e)}))(e);return o.a.createElement(d,c({},this.props))},r}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(0),o=n.n(r),a=n(4),i=n.n(a),s=n(3),c=n.n(s),u=n(6),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},f=this&&this.__decorate||function(t,e,n,r){var o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=function(t,e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.fieldKey="ui:condition",e}return p(n,t),n.prototype.render=function(){var t=this.props,n=t.getHocOptions,r=t.formData,a=t.formDefaultData,s=n(),c=s.condition,u=c.fields,p=!0,f=i()(Object.assign({},a,r));return u&&u.length&&(p=u.reduce(function(t,e){var n=e.key,r=e.val;if(f.has(n)){var o=f.get(n);return t&&o===r}return t&&!1},p)),p?o.a.createElement(e,h({},this.props)):null},n=f([Object(s.connect)(u.b)],n)}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n.n(r),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s=function(t,e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.render=function(){return o.a.createElement(e,i({getHocOptions:this.getHocOptions.bind(this),getFieldOptions:this.getFieldOptions.bind(this),getWidgetOptions:this.getFieldOptions.bind(this)},this.props))},n.prototype.getFieldOptions=function(t){var e=this.props,n=e.mergeSchema,r=e.globalOptions,o=n.uiSchema,a=o.options||{},i=a.field||{},s=r.field||{};return Object.assign({},s[t]||{},i[t]||{})},n.prototype.getWidgetOptions=function(t){var e=this.props,n=e.mergeSchema,r=e.globalOptions,o=e.uiSchemaOptions,a=o.widget||{},i=r.widget||{};return Object.assign({},i[t]||{},a[t]||{})},n.prototype.getHocOptions=function(t){var e=this.props,n=e.mergeSchema,r=e.globalOptions,o=n.uiSchema,a=o.options||{},i=Object.assign({},r.hoc||{},a.hoc||{});return t?i[t]||{}:i},n}(o.a.PureComponent)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n.n(r),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){return o.a.createElement("div",null,this.props.children)},e}(o.a.PureComponent)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(0),o=n.n(r),a=n(30),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.FieldComponent,n=t.mergeSchema,r=n.uiSchema,a=void 0===r?{}:r;return e?o.a.createElement(e,s({},this.props)):(console.log(n,"没有找到匹配的field"),null)},e}(o.a.PureComponent),u=Object(a.a)(c)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),o=n.n(r),a=n(7),i=Object(r.compose)(Object(r.onlyUpdateForKeys)(["formItemData","meta"]),a.a.get("make"))},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(5),o=n.n(r),a=n(32),i=n(33);n.d(e,"b",function(){return a.a});var s={tempFactory:new r.BaseFactory,fieldFactory:new r.BaseFactory,widgetFactory:new r.BaseFactory};a.a.add("default",s);for(var c in i.a)if(i.a.hasOwnProperty(c)){var u=i.a[c];s.fieldFactory.add(c,u),s.fieldFactory.lock(c)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(5),o=n.n(r),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(){return t.call(this)||this}return a(e,t),e}(r.BaseFactory),s=new i},function(t,e,n){"use strict";var r=n(34),o=n(35),a=n(36);e.a={string:r.a,boolean:r.a,number:r.a,integer:r.a,null:r.a,object:o.a,array:a.a}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n.n(r),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.mergeSchema,n=t.currentTheme,r=t.WidgetComponent;return o.a.createElement(r,i({key:e.keys.join(".")},this.props))},e}(o.a.Component)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n.n(r),a=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.mergeSchema,n=t.currentTheme,r=t.WidgetComponent,i=t.arrayIndex,s=t.ItemButtons,c=t.arrayLevel,u=t.getCurrentState,p=t.globalOptions,h=t.schemaFormOptions,f=t.schemaKey,m=t.getFieldOptions,d=e.uiSchema;return o.a.createElement(a.SchemaForm,{arrayIndex:i,schemaFormOptions:h,getCurrentState:u,schemaKey:f,arrayLevel:c,schema:e,parentKeys:e.originKeys,RootComponent:m("object").root,uiSchema:d.items||["*"],globalOptions:p})},e}(o.a.Component)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),o=n.n(r),a=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.renderItem=function(t,e){var n=this,r=this.props,i=r.mergeSchema,c=r.schemaKey,u=r.globalOptions,p=r.schemaFormOptions,h=r.getCurrentState,f=r.ItemChildButtons,m=r.arrayLevel,d=void 0===m?[]:m,l=r.getFieldOptions,y=i.uiSchema,g=i.keys;return o.a.createElement(a.SchemaForm,{key:g.join(".")+t,schema:i,getCurrentState:h,arrayIndex:t,arrayLevel:d.concat([t]),ItemButtons:function(){return o.a.createElement(f,s({},n.props,{index:t}))},parentKeys:i.originKeys,RootComponent:l("array").root,schemaKey:c,uiSchema:y.items,schemaFormOptions:p,globalOptions:u})},e.prototype.render=function(){var t=this,e=this.props,n=e.mergeSchema,r=e.currentTheme,a=e.WidgetComponent,i=e.schemaKey,s=e.globalOptions,c=e.schemaFormOptions,u=e.formItemData,p=e.meta,h=void 0===p?{dirty:!1,isValid:!0,isShow:!0}:p,f=n.uiSchema,m=n.title,d;return d=u&&u.map(function(e,n){return t.renderItem(n,u.length)}),o.a.createElement("div",{style:{width:"100%"}},d||null)},e}(o.a.Component)}])});