!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("lodash.isequal"),require("json-pointer"),require("fx-schema-form-core"),require("react"),require("recompose"),require("react-redux"),require("reselect"),require("uuid"),require("antd"),require("redux-act"),require("lodash.clonedeep")):"function"==typeof define&&define.amd?define("fx-schema-form-antd",["lodash.isequal","json-pointer","fx-schema-form-core","react","recompose","react-redux","reselect","uuid","antd","redux-act","lodash.clonedeep"],n):"object"==typeof exports?exports["fx-schema-form-antd"]=n(require("lodash.isequal"),require("json-pointer"),require("fx-schema-form-core"),require("react"),require("recompose"),require("react-redux"),require("reselect"),require("uuid"),require("antd"),require("redux-act"),require("lodash.clonedeep")):t["fx-schema-form-antd"]=n(t["lodash.isequal"],t["json-pointer"],t["fx-schema-form-core"],t.react,t.recompose,t["react-redux"],t.reselect,t.uuid,t.antd,t["redux-act"],t["lodash.clonedeep"])}(this,function(e,t,n,r,a,o,i,s,c,u,p){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function t(){return e.default}:function t(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=11)}([function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n}function o(e,t,n,r){var a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function i(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})}function u(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o,i,s,c;return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],i;try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function f(e,t,n){function r(e){u[e]&&(p[e]=function(t){return new Promise(function(n,r){m.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{o(u[e](t))}catch(e){c(m[0][3],e)}}function o(e){e.value instanceof l?Promise.resolve(e.value.v).then(i,s):c(m[0][2],e)}function i(e){a("next",e)}function s(e){a("throw",e)}function c(e,t){e(t),m.shift(),m.length&&a(m[0][0],m[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=n.apply(e,t||[]),p,m=[];return p={},r("next"),r("throw"),r("return"),p[Symbol.asyncIterator]=function(){return this},p}function y(e){function t(t,a){e[t]&&(n[t]=function(n){return(r=!r)?{value:l(e[t](n)),done:"return"===t}:a?a(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function g(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof m?m(e):e[Symbol.iterator]()}function v(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}t.d=r,n.d(t,"a",function(){return O}),t.c=o,t.b=c,t.e=u;var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},O=Object.assign||function e(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(e,t){e.exports=r},function(e,t){e.exports=c},function(e,t){e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"SchemaForm",function(){return r.a});var a=n(25);n.d(t,"SchemaFormItem",function(){return a.a});var o=n(10);n.d(t,"FormReducer",function(){return o.a});var i=n(29);n.d(t,"defaultTheme",function(){return i.a}),n.d(t,"nsFactory",function(){return i.b});var s=n(45);n.d(t,"createForms",function(){return s.a});var c=n(7);n.d(t,"hocFactory",function(){return c.a});var u=n(6),p=n.n(u);p.a.set=function e(t,n,r){for(var a=Array.isArray(n)?n:p.a.parse(n),o=a[0],i=0;i<a.length-1;++i){var s=a[i];"-"===s&&Array.isArray(t)&&(s=t.length),o=a[i+1],s in t||(o.match(/^(\d+|-)$/)?t[s]=[]:t[s]={}),t=t[s],!t&&o&&(t=Number.isNaN(1*o)?{}:[])}return"-"===o&&Array.isArray(t)&&(o=t.length),t[o]=r,this}},function(e,t){e.exports=n},function(e,n){e.exports=t},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(5),a=n.n(r),o=n(14),i=n(16),s=n(19),c=n(20),u=n(21),p=n(22),m=n(23),d=new r.BaseFactory,h={merge:o.a.bind(o.a,d),temp:i.a.bind(i.a,d),field:s.a.bind(s.a,d),theme:c.a.bind(c.a,d),validate:u.a.bind(u.a,d),array:p.a.bind(p.a,d),make:m.a.bind(m.a,d)};for(var l in h)if(h.hasOwnProperty(l)){var f=h[l];d.add(l,f),d.lock(l)}},function(e,t){e.exports=o},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var r=n(6),a=n.n(r),o=n(15),i=n.n(o),s=function(e,t){var n=e[t.schemaKey].data;return void 0===n?{}:n},c=function(e,t){var n=t.schemaKey,a=t.mergeSchema,o=a.keys,i=void 0===o?[]:o,s=e[t.schemaKey].data,c=void 0===s?{}:s;return r.has(c,r.compile(i))?r.get(c,r.compile(i)):void 0},u=function(e,t){var n=t.schemaKey,r=e[t.schemaKey].meta;return{isLoading:r.data.isLoading,isValid:r.data.isValid}},p=function(e,t){var n=t.schemaKey,r=t.mergeSchema,a=r.keys,o=void 0===a?[]:a;return e[t.schemaKey].meta.getMeta(o,"array"!==r.type)},m=function(e,t){var n=t.schemaKey,r=e[n],a=r.data,o=void 0===a?{}:a,i=r.meta,s=void 0===i?{actions:{}}:i;return t.schemaFormOptions&&t.schemaFormOptions.ajv&&s.init(t.schemaFormOptions,t.schemaKey),s.actions},d=Object(o.createSelector)([p,c,s],function(e,t,n){return{meta:e,formData:n,formItemData:t}}),h=Object(o.createSelector)([m,u],function(e,t){return{actions:e,metaState:t}})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(27),a=n.n(r),o=n(6),i=n.n(o),s=n(28),c=n.n(s),u=function(){function e(e){this.initialState=e,this.updateItem=Object(r.createAction)("更新表单值"),this.toggleItem=Object(r.createAction)("显示/隐藏元素"),this.removeItem=Object(r.createAction)("删除元素"),this.addItem=Object(r.createAction)("添加元素"),this.switchItem=Object(r.createAction)("元素移位"),this.updateItemMeta=Object(r.createAction)("更新元素的meta信息"),this.updateMetaState=Object(r.createAction)("更改meta的状态"),this.updateData=Object(r.createAction)("更改data的值")}return Object.defineProperty(e.prototype,"actions",{get:function(){return{updateItem:this.updateItem,toggleItem:this.toggleItem,removeItem:this.removeItem,addItem:this.addItem,switchItem:this.switchItem,updateMetaState:this.updateMetaState,updateItemMeta:this.updateItemMeta,updateData:this.updateData}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reducer",{get:function(){return Object(r.createReducer)((e={},e[this.updateItem]=this.updateItemHandle.bind(this),e[this.toggleItem]=this.toggleItemHandle.bind(this),e[this.addItem]=this.addItemHandle.bind(this),e[this.removeItem]=this.removeItemHandle.bind(this),e[this.switchItem]=this.switchItemHandle.bind(this),e[this.updateMetaState]=this.updateMetaStateHandle.bind(this),e[this.updateItemMeta]=this.updateMetaHandle.bind(this),e[this.updateData]=this.updateDataHandle.bind(this),e),this.initialState);var e},enumerable:!0,configurable:!0}),e.prototype.updateDataHandle=function(e,t){return Object.assign({},e,{data:t})},e.prototype.getOrigin=function(e){return{originData:c()(e.data),originMeta:c()(e.meta)}},e.prototype.updateMetaStateHandle=function(e,t){var n=t.isLoading,r=t.isValid,a=t.meta,o=this.getOrigin(e).originMeta;return a&&(o=a),void 0!==n&&(o.data.isLoading=n),void 0!==r&&(o.data.isValid=r),Object.assign({},e,{meta:o})},e.prototype.updateItemHandle=function(e,t){var n=t.keys,r=t.data,a=t.meta,o=this.getOrigin(e),s=o.originData,c=o.originMeta,u=c.getKey(n).normalKey;return i()(s).set(u,r),c.setMeta(n,a),Object.assign({},e,{data:s,meta:c})},e.prototype.updateMetaHandle=function(e,t){var n=t.keys,r=t.meta,a=this.getOrigin(e),o=a.originData,i=a.originMeta,s=i.getKey(n).normalKey,c=i.getMeta(n,!1)||{};return i.setMeta(n,r),Object.assign({},e,{meta:i})},e.prototype.toggleItemHandle=function(e,t){var n=t.keys,r=this.getOrigin(e).originMeta,a=r.getKey(n).normalKey,o=r.getMeta(n,!1)||{};return r.setMeta(n,Object.assign({},o,{isShow:void 0!==o.isShow&&!o.isShow}),!1),Object.assign({},e,{meta:r})},e.prototype.addItemHandle=function(e,t){var n=t.keys,r=t.data,a=this.getOrigin(e),o=a.originData,s=a.originMeta,c=s.getKey(n).normalKey,u=i()(o).has(c)?i()(o).get(c):[];return i()(o).set(c,u.concat([r])),Object.assign({},e,{data:o})},e.prototype.removeItemHandle=function(e,t){var n=t.keys,r=t.index,a=this.getOrigin(e),o=a.originData,s=a.originMeta,c=s.getKey(n.concat([r.toString()])).normalKey;return o&&i()(o).has(c)&&i()(o).remove(c),s.removeMeta(n.concat([r.toString()])),Object.assign({},e,{data:o,meta:s})},e.prototype.switchItemHandle=function(e,t){var n=t.keys,r=t.curIndex,a=t.switchIndex,o=this.getOrigin(e),s=o.originData,c=o.originMeta,u=c.getKey(n).normalKey,p=i()(s).get(u);return m=[p[a],p[r]],p[r]=m[0],p[a]=m[1],i()(s).set(u,p),c.switchMeta(n,r,a),Object.assign({},e,{data:s,meta:c});var m},e}()},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n(1),o=n.n(a),i=n(13),s=n(4),c=n(24),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.mergeSchemaList,r=e.schemaKey,a=e.arrayItems,i=e.arrayIndex,u=e.globalOptions,p=e.RootComponent,m=e.schemaFormOptions,d=e.formDefaultData,h=p;return h||(h=c.a),o.a.createElement(h,null,n.map(function(e,t){var c=!1;return"number"==typeof i&&(e.keys=e.keys.map(function(e){return"-"===e?i:e})),o.a.createElement(s.SchemaFormItem,{key:r+"-"+t.toString()+"}",schemaKey:r,arrayIndex:i,arrayItems:a,formDefaultData:d,mergeSchemaList:n,mergeSchema:e,schemaFormOptions:m,globalOptions:u})}),t)},t}(o.a.Component),p=Object(i.a)(u)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=n.n(r),o=n(7),i=Object(r.compose)(o.a.get("merge"))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n(1),o=n.n(a),i=n(5),s=n.n(i),c=n(8),u=n.n(c),p=n(3),m=n.n(p),d=n(9),h=function(e,t){var n=t.actions;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];a.assigned(e)||a.assignTo(e)}return{actions:n}},l=function(e,t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.d(n,e),n.prototype.render=function(){var e=this.props,n=e.schema,a=e.uiSchema,s=e.parentKeys,c=e.schemaFormOptions,u=e.schemaKey,p=e.actions,m=e.formData,d,h={};return u||(u=(Date.now()+Math.random()).toString()),c=c||{avjOptions:{allErrors:!0,jsonPointers:!0,verbose:!0,useDefaults:!0,errorDataPath:"property"}},c.parentKeys=s||[],d=i.schemaMerge.merge(u,n,a,c),o.a.createElement(t,r.a({schemaFormOptions:c||{},schemaKey:u,mergeSchemaList:d},this.props))},n=r.c([Object(p.compose)(Object(c.connect)(d.a),Object(c.connect)(null,h),Object(p.onlyUpdateForKeys)(["schema","uiSchema","metaState"]))],n)}(o.a.Component)}},function(e,t){e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n(1),o=n.n(a),i=n(3),s=n.n(i),c=n(17),u=n.n(c),p=n(18),m=n.n(p),d=Object(i.compose)(Object(i.lifecycle)({shouldComponentUpdate:function(e){var t=["isShow","isValid","errorText","isLoading"],n=m()(e.formItemData,this.props.formItemData),r=m()(u()(e.meta,t),u()(this.props.meta,t)),a=!n||!r;return console.groupCollapsed(e.mergeSchema.keys+"---temp中比较formItemData和Meta的值得变化;"+a),console.log("formItemData",n,e.formItemData,this.props.formItemData),console.log("meta",r,u()(e.meta,t),u()(this.props.meta,t)),console.log("shouldUpdate",n,r),console.groupEnd(),a}})),h=function(e,t){return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tempField="ui:temp",t}return r.d(n,e),n.prototype.render=function(){var e=this,n=this.props,a=n.mergeSchema,i=n.globalOptions,s=a.uiSchema,c=void 0===s?{options:{}}:s,u=a.keys,p=this.getTemplates(),m=c.options||{},d=0;return p.reduce(function(t,n){var a=n.key,s=n.Temp;return o.a.createElement(s,r.a({globalOptions:i,tempKey:a,uiSchemaOptions:m,key:u.join(".")+a+d++},e.props),t)},o.a.createElement(t,r.a({key:u.join("."),uiSchemaOptions:m},this.props)))},n.prototype.getTemplates=function(){var e=this.props,t=e.mergeSchema,n=e.globalOptions,r=e.currentTheme,a=t.uiSchema,o=void 0===a?{options:{}}:a,i=t.keys,s=t.type,c=n[s]||{},u=o[this.tempField]||c[this.tempField]||n[this.tempField]||"default",p=[];return"string"==typeof u?p.push({key:u,Temp:r.tempFactory.get(u)}):[].concat(u).reverse().forEach(function(e,t){r.tempFactory.has(e||"default")?p.push({key:e,Temp:r.tempFactory.get(e||"default")}):console.error("不存在"+e+"的temp！")}),p},n=r.c([d],n)}(o.a.Component)}},function(e,t,n){"use strict";t.__esModule=!0;var r=function e(t,n){for(var r={},a=0;a<n.length;a++){var o=n[a];t.hasOwnProperty(o)&&(r[o]=t[o])}return r};t.default=r},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1),o=n.n(a),i=function(e,t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.d(n,e),n.prototype.shouldComponentUpdate=function(){return!1},n.prototype.render=function(){var e=this.props,n=e.mergeSchema,a=e.currentTheme,i=n.uiSchema,s=void 0===i?{theme:"",field:"",widget:""}:i,c,u;"object"==typeof n.type&&(n.type=n.type[0]);var p=s.field||n.type;if("object"==typeof p&&p.length&&(p=p[0]),!a.fieldFactory.has(s.field||n.type))return console.error("找不到field："+(s.field||n.type)),null;c=a.fieldFactory.get(s.field||n.type);var m=s.widget||n.type;return"object"==typeof m&&m.length&&(m=m[0]),a.widgetFactory.has(s.widget||n.type)?u=a.widgetFactory.get(s.widget||n.type):console.warn("找不到widget："+(s.widget||n.type),n),o.a.createElement(t,r.a({},this.props,{FieldComponent:c,WidgetComponent:u}))},n}(o.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(1),o=n.n(a),i=n(4),s=function(e,t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.d(n,e),n.prototype.render=function(){var e=this.props.mergeSchema,n=e.uiSchema,a=void 0===n?{theme:"",field:""}:n,s;if(!i.nsFactory.has(a.theme||"default"))throw new Error("没有找到"+(a.theme||"default")+"的样式！");return s=i.nsFactory.get(a.theme||"default"),o.a.createElement(t,r.a({currentTheme:s},this.props))},n}(o.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),a=n(1),o=n.n(a),i=n(8),s=n.n(i),c=n(3),u=n.n(c),p=n(9),m=function(e,t){var n=t.mergeSchema,r=t.actions,a=t.schemaFormOptions,o=t.schemaKey,i=t.formData,s=n.keys,c=a.ajv.compile(Object.assign({},n,{$async:!0,async:!0}));for(var u in r)if(r.hasOwnProperty(u)){var p=r[u];p.assigned(e)||p.assignTo(e)}return{updateItemData:function(e){r.updateItem||console.error("没有更新的action！"),r.updateItem({keys:s,data:e,meta:{}})},validate:function(e){r.updateItem||console.error("没有更新的action！");var t={dirty:!0,isValid:!1,isLoading:!1,errorText:""};r.updateItemMeta({keys:s,meta:{isLoading:!0,isValid:!1,errorText:!1}}),c(e).then(function(){t.isValid=!0,r.updateItemMeta({keys:s,meta:t})}).catch(function(e){t.errorText=e.errors?a.ajv.errorsText(e.errors):e.message,r.updateItemMeta({keys:s,meta:t})})}}},d=function(e,t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.d(n,e),n.prototype.render=function(){var e=Object(c.compose)(Object(c.shouldUpdate)(function(e,t){return!1}),Object(i.connect)(p.a),Object(i.connect)(null,m))(t);return o.a.createElement(e,r.a({},this.props))},n}(o.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n(1),o=n.n(a),i=n(8),s=n.n(i),c=n(9),u=function(e,t){var n=t.mergeSchema,a=t.actions,o=t.schemaFormOptions,i=n.keys;return{toggleItem:function(e){a.toggleItem||console.error("没有找到的action！"),a.toggleItem({keys:i})},removeItem:function(e){a.removeItem||console.error("没有找到的action！"),a.removeItem({keys:i,index:e})},addItem:function(e){a.addItem||console.error("没有找到的action！"),a.addItem({keys:i,data:e})},switchItem:function(e){a.switchItem||console.error("没有找到的action！"),a.switchItem(r.a({keys:i},e))}}},p=function(e,t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.d(n,e),n.prototype.render=function(){var e=this.props,n=e.mergeSchema,a=e.getHocOptions,i=n.type,s=a(),c=s.array,u=c||{},p=u.createItemButtons,m=void 0===p?function(e){return null}:p,d=u.createItemChildButtons,h=void 0===d?function(e){return null}:d,l=Object.assign({},this.props,{removeItem:this.removeItem.bind(this),addItem:this.addItem.bind(this),toggleItem:this.toggleItem.bind(this),switchItem:this.switchItem.bind(this)});return"array"===i?o.a.createElement(t,r.a({},l,{arrayItems:m(l),createItemChildButtons:h.bind(this,l)})):o.a.createElement(t,r.a({},this.props))},n.prototype.removeItem=function(e){var t=this.props,n=t.formItemData,r=void 0===n?[]:n,a=t.mergeSchema,o=t.removeItem,i=t.arrayIndex,s=a.uiSchema,c=a.type,u=a.keys;"array"===c&&void 0!==e&&o(e)},n.prototype.switchItem=function(e,t){var n=this.props,r=n.formItemData,a=void 0===r?[]:r,o=n.mergeSchema,i=n.switchItem,s=n.arrayIndex,c=o.uiSchema,u=o.type,p=o.keys;if("array"===u&&void 0!==e&&void 0!==t){if(t<0||a.length<t+1)return;i({curIndex:e,switchIndex:t})}},n.prototype.toggleItem=function(){(0,this.props.toggleItem)()},n.prototype.addItem=function(){var e=this.props,t=e.mergeSchema,n=e.validate,r=e.addItem;r("object"===t.items.type?{}:void 0)},n=r.c([Object(i.connect)(c.b,u)],n)}(o.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(3),s=n.n(i),c=function(e,t){return function(n){function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.fieldKey="ui:item.hoc",e}return r.d(a,n),a.prototype.shouldComponentUpdate=function(){return!1},a.prototype.render=function(){var n=this.props,a=n.mergeSchema,s=n.globalOptions,c=a.uiSchema,u=void 0===c?{options:{}}:c,p=a.keys,m=a.type,d=s[m]||{},h=u[this.fieldKey]||d[this.fieldKey]||s[this.fieldKey]||["theme","field","validate","array","temp"],l=i.compose.apply(void 0,h.map(function(t){return e.get(t)}))(t);return o.a.createElement(l,r.a({getHocOptions:this.getHocOptions.bind(this)},this.props))},a.prototype.getHocOptions=function(){var e=this.props,t=e.mergeSchema,n=e.globalOptions,r=t.uiSchema,a=r.options||{};return Object.assign({},n.hoc||{},a.hoc||{})},a}(o.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1),o=n.n(a),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){return o.a.createElement("div",null,this.props.children)},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(26),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.FieldComponent,n=e.mergeSchema,a=n.uiSchema,i=void 0===a?{}:a;return t?o.a.createElement(t,r.a({},this.props)):(console.log(n,"没有找到匹配的field"),null)},t}(o.a.Component),c=Object(i.a)(s)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=n.n(r),o=n(7),i=Object(r.compose)(Object(r.onlyUpdateForKeys)(["formItemData","meta","formData","mergeSchema"]),o.a.get("make"))},function(e,t){e.exports=u},function(e,t){e.exports=p},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(5),a=n.n(r),o=n(30),i=n(31),s=n(35),c=n(40);n.d(t,"b",function(){return o.a});var u={tempFactory:new r.BaseFactory,fieldFactory:new r.BaseFactory,widgetFactory:new r.BaseFactory};o.a.add("default",u);for(var p in i.a)if(i.a.hasOwnProperty(p)){var m=i.a[p];u.fieldFactory.add(p,m),u.fieldFactory.lock(p)}for(var p in c.a)if(c.a.hasOwnProperty(p)){var d=c.a[p];u.widgetFactory.add(p,d)}for(var p in s.a)if(s.a.hasOwnProperty(p)){var h=s.a[p];u.tempFactory.add(p,h),u.tempFactory.lock(p)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(5),o=n.n(a),i=function(e){function t(){return e.call(this)||this}return r.d(t,e),t}(a.BaseFactory),s=new i},function(e,t,n){"use strict";var r=n(32),a=n(33),o=n(34);t.a={string:r.a,boolean:r.a,number:r.a,integer:r.a,null:r.a,object:a.a,array:o.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1),o=n.n(a),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.currentTheme,a=e.WidgetComponent;return o.a.createElement(a,r.a({key:t.keys.join(".")},this.props))},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(1),o=n.n(a),i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.currentTheme,r=e.WidgetComponent,a=e.globalOptions,s=e.schemaFormOptions,c=e.schemaKey,u=t.uiSchema;return o.a.createElement(i.SchemaForm,{schemaFormOptions:s,schemaKey:c,schema:t,parentKeys:t.keys,RootComponent:u.root,uiSchema:u.items||["*"],globalOptions:a})},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(1),o=n.n(a),i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.renderItem=function(e,t){var n=this.props,r=n.mergeSchema,a=n.schemaKey,s=n.globalOptions,c=n.schemaFormOptions,u=n.arrayItems,p=n.createItemChildButtons,m=r.uiSchema,d=r.keys;return o.a.createElement(i.SchemaForm,{key:d.join(".")+e,schema:r,arrayIndex:e,arrayItems:p?p.bind(null,e,t):null,parentKeys:r.keys,RootComponent:null,schemaKey:a,uiSchema:m.items,schemaFormOptions:c,globalOptions:s})},t.prototype.render=function(){var e=this,t=this.props,n=t.mergeSchema,r=t.currentTheme,a=t.WidgetComponent,i=t.schemaKey,s=t.globalOptions,c=t.schemaFormOptions,u=t.formItemData,p=t.meta,m=void 0===p?{dirty:!1,isValid:!0,isShow:!0}:p,d=n.uiSchema,h=n.title,l;return l=u&&u.map(function(t,n){return e.renderItem(n,u.length)}),o.a.createElement("div",null,l||null)},t}(o.a.Component)},function(e,t,n){"use strict";var r=n(36),a=n(37),o=n(38),i=n(39);t.a={formItem:r.a,col:a.a,row:o.a,card:i.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.arrayIndex,a=e.arrayItems,s=e.mergeSchema,c=e.globalOptions,u=void 0===c?{}:c,p=e.tempKey,m=e.uiSchemaOptions,d=e.meta,h=void 0===d?{dirty:!1,isValid:!0,isLoading:!1}:d,l=Object.assign({},u[p]||{},m[p]||{}),f=l.hasFeedback,y=void 0!==f&&f,g={},v=h.dirty,b=h.isValid,O=h.errorText,I=void 0===O?"":O,S=h.isLoading,w=void 0!==S&&S;return v&&(g.validateStatus=b?"success":"error"),w&&(g.validateStatus="validating"),o.a.createElement(i.Form.Item,r.a({required:s.isRequired,label:s.title||[].concat(s.keys).pop(),extra:s.description,help:b?"":I,hasFeedback:v&&y},g,l),o.a.createElement(i.Row,{type:"flex"},o.a.createElement(i.Col,{span:20},t),o.a.createElement(i.Col,{offset:1,span:3},a&&a())))},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.globalOptions,a=e.mergeSchema,s=e.tempKey,c=e.uiSchemaOptions,u=Object.assign({},n[s]||{},c[s]||{});return o.a.createElement(i.Col,r.a({},u),t)},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.globalOptions,a=e.tempKey,s=e.uiSchemaOptions,c=e.mergeSchema,u=Object.assign({},n[a]||{},s[a]||{});return o.a.createElement(i.Row,r.a({},u),t)},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.globalOptions,a=e.tempKey,s=e.uiSchemaOptions,c=e.mergeSchema,u=e.arrayItems,p=e.meta,m=Object.assign({},n[a]||{},s[a]||{}),d=c.uiSchema,h=c.title,l=p.dirty,f=p.isValid,y=p.errorText,g=void 0===y?"":y;return o.a.createElement(i.Card,r.a({},m,{title:h||d.title,extra:u,bodyStyle:{display:!1===p.isShow?"none":"block"}}),t,f?"":g)},t}(o.a.Component)},function(e,t,n){"use strict";var r=n(41),a=n(42),o=n(43),i=n(44);t.a={input:r.a,string:r.a,checkbox:a.a,boolean:o.a,switch:o.a,null:i.a}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.setDefaultProps=function(){var e=this.props.mergeSchema,t={};return void 0!==this.props.formItemData?t.value=this.props.formItemData:t.value="",t},t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.globalOptions,a=e.uiSchemaOptions,s=e.validate,c=e.updateItemData,u=e.formItemData,p=(a.widget||{}).input,m=void 0===p?{}:p,d=(n.widget||{}).input,h=void 0===d?{}:d,l=t.uiSchema,f=void 0===l?{}:l,y=t.keys,g=f.readonly,v=void 0!==g&&g;return o.a.createElement(i.Input,r.a({onBlur:function(){s(u)},onChange:function(e){c(e.currentTarget.value)},disabled:v,placeholder:t.title},m,h,this.setDefaultProps()))},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.setDefaultProps=function(){var e=this.props.mergeSchema,t={};return void 0!==this.props.formItemData?t.checked=this.props.formItemData:t.defaultChecked=e.default,t},t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.arrayIndex,a=e.globalOptions,s=e.uiSchemaOptions,c=e.meta,u=e.validate,p=e.updateItemData,m=(s.widget||{}).checkbox,d=void 0===m?{}:m,h=(a.widget||{}).checkbox,l=void 0===h?{}:h,f=t.uiSchema,y=void 0===f?{}:f,g=t.keys,v=y.readonly,b=void 0!==v&&v;return o.a.createElement(i.Checkbox,r.a({onChange:function(e){p(e.target.checked),u(e.target.checked)},disabled:b},d,l,this.setDefaultProps()))},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(1),o=n.n(a),i=n(2),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.setDefaultProps=function(){var e=this.props.mergeSchema,t={};return void 0!==this.props.formItemData?t.checked=this.props.formItemData:t.defaultChecked=e.default,t},t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.arrayIndex,a=e.globalOptions,s=e.uiSchemaOptions,c=e.meta,u=e.validate,p=e.updateItemData,m=(s.widget||{}).switch,d=void 0===m?{}:m,h=(a.widget||{}).switch,l=void 0===h?{}:h,f=t.uiSchema,y=void 0===f?{}:f,g=t.keys,v=y.readonly,b=void 0!==v&&v;return o.a.createElement(i.Switch,r.a({onChange:function(e){p(e),u(e)},disabled:b},l,d,this.setDefaultProps()))},t}(o.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1),o=n.n(a),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.render=function(){var e=this.props,t=e.mergeSchema,n=e.arrayIndex,r=e.globalOptions,a=e.uiSchemaOptions,i=e.meta,s=e.validate,c=e.updateItemData,u=t.uiSchema,p=void 0===u?{}:u,m=t.keys,d=p.readonly,h=void 0!==d&&d;return o.a.createElement("span",null,"此值为Null值，这个有啥意思么")},t}(o.a.Component)},function(e,t,n){"use strict";var r=n(10),a=n(46),o=function(){function e(){}return e.prototype.createOne=function(e,t,n,o){var i=new a.a,s=n.validate(o,t).catch(console.error),c=new r.a({data:t,meta:i});return i.actions=c.actions,c},e.prototype.createMuti=function(e){void 0===e&&(e={});var t={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],i=new a.a,s=new r.a({data:o,meta:i});i.actions=s.actions,o&&(t[n]=s.reducer)}return t},e}();t.a=new o},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n(47),o=n.n(a),i=n(6),s=n.n(i),c=function(){function e(){this.data={map:{},meta:{}},this.actions={},this.isInit=!1}return e.prototype.init=function(e,t){this.isInit||(this.isInit=!0,this.schemaFormOptions=e,this.curKey=t)},e.prototype.validateAll=function(e){return r.b(this,void 0,void 0,function(){var t=this,n,a,o;return r.e(this,function(r){switch(r.label){case 0:for(n in this.data.map)this.data.map.hasOwnProperty(n)&&(a=this.data.map[n],!1===a.isValid&&(a.isValid=!0));this.data.isLoading=!0,this.data.isValid=!1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.schemaFormOptions.ajv.compile(this.schemaFormOptions.ajv.getSchema(this.curKey).schema)(e)];case 2:return r.sent(),this.data.isValid=!0,[3,4];case 3:return o=r.sent(),o.errors.forEach(function(e){var n=s.a.parse(e.dataPath),r=t.getMeta(n);t.setMeta(n,{dirty:!0,isLoading:!1,isValid:!1,errors:[],errorText:e.message})}),[3,4];case 4:return[2,this]}})})},e.prototype.getKey=function(e){var t=s.a.compile(e),n=s.a.escape(t);return{schemaKey:e.map(function(e){return"number"==typeof e?"-":e}).join("/"),normalKey:t,originEscapeKey:n,escapeKey:"/"+n}},e.prototype.setMeta=function(e,t,n){void 0===n&&(n=!0);var r=this.getKey(e),a=r.normalKey,o=r.escapeKey,i=r.originEscapeKey,s=r.schemaKey,c=this.getUuid({normalKey:a,escapeKey:o,originEscapeKey:i,schemaKey:s}),u=this.getCurMetaData(c);c!==o&&this.setCurMetaUuid(a,c),this.setCurMetaData(c,Object.assign({},u,t))},e.prototype.getUuid=function(e){var t=e.normalKey,n=e.escapeKey,r=e.originEscapeKey,a=e.schemaKey,i=s()(this.data.map),c=s()(this.data.meta),u,p;if(this.schemaFormOptions.map.has(a)){if(["array","object"].indexOf(this.schemaFormOptions.map.get(a).type)>=0)return n}return i.has(n)?n:(c.has(t)&&(u=c.get(t),p=u),"string"==typeof u&&u||(p="/"+s.a.escape("/"+o()())),p)},e.prototype.getMeta=function(e,t){void 0===t&&(t=!0);var n=this.getKey(e),r=n.normalKey,a=n.escapeKey,o=n.originEscapeKey,i=n.schemaKey,s=this.getUuid({normalKey:r,escapeKey:a,originEscapeKey:o,schemaKey:i});return this.getCurMetaData(s)},e.prototype.switchMeta=function(e,t,n){var r=this.getKey(e),a=r.normalKey,o=r.escapeKey,i=r.schemaKey,c=r.originEscapeKey;if(s()(this.data.meta).has(a)){var u=s()(this.data.meta).get(a);p=[u[n],u[t]],u[t]=p[0],u[n]=p[1],s()(this.data.meta).set(a,u);var p}},e.prototype.removeMeta=function(e){var t=s()(this.data.map),n=s()(this.data.meta),r=this.getKey(e),a=r.normalKey,o=r.escapeKey,i=r.originEscapeKey,c=r.schemaKey,u=this.getUuid({normalKey:a,escapeKey:o,originEscapeKey:i,schemaKey:c}),p=new RegExp("^"+i,"ig");for(var m in this.data.map)if(this.data.map.hasOwnProperty(m)){var d=this.getKey(s.a.parse(m));p.test(d.originEscapeKey)&&t.remove(d.escapeKey)}if(n.has(a)){var h=s.a.dict(n.get(a));n.remove(a);for(var m in h)if(h.hasOwnProperty(m)){var l=h[m];t.has(l)&&t.remove(l)}}t.has(u)&&t.remove(u)},e.prototype.getCurMetaData=function(e){return s()(this.data.map).has(""+e)?s()(this.data.map).get(""+e):{isShow:!0}},e.prototype.setCurMetaData=function(e,t){s()(this.data.map).set(""+e,t)},e.prototype.setCurMetaUuid=function(e,t){s()(this.data.meta).set(e,t)},e}()},function(e,t){e.exports=s}])});